<div class="container">
    <h2>Lista de Usuarios</h2>
    <input type="text" [(ngModel)]="filterText" class="form-control" placeholder="Filtrar Usuarios..." />
  
    <div class="form-group mt-3">
      <label for="user-list">Users</label>
      <table class="table table-striped" id="user-list">
        <thead>
          <tr>
            <th>Nome</th>
            <th>Email</th>
            <th>Perfil</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of filteredUsers">
            <td>{{ user.name }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.profile === 0 ? 'Padrão' : 'Administrador' }}</td>
            <td>
              <button type="button" class="btn btn-warning" (click)="openUpdateModal(user)">Editar</button>
              <button type="button" class="btn btn-danger" (click)="openDeleteModal(user.id)">Remover</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <button type="button" class="btn btn-primary" (click)="openCreateModal()">
        Criar Usuario
    </button>

    <!-- Create -->
  <div class="modal fade" id="createModal" tabindex="-1" aria-labelledby="createModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="createModalLabel">Create User</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="name">Nome</label>
            <input type="text" class="form-control" id="name" [(ngModel)]="newUser.Name" [ngModelOptions]="{standalone: true}" placeholder="Enter name" />
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" [(ngModel)]="newUser.Email" [ngModelOptions]="{standalone: true}" placeholder="Enter email" />
          </div>
          <div class="form-group">
            <label for="password">Senha</label>
            <input type="password" class="form-control" id="password" [(ngModel)]="newUser.Password" [ngModelOptions]="{standalone: true}" placeholder="Enter password" />
          </div>
          <div class="form-group">
            <label for="profile">Perfil</label>
            <select class="form-control" id="profile" [(ngModel)]="newUser.Profile" [ngModelOptions]="{standalone: true}">
              <option value="0">Padrão</option>
              <option value="1">Administrador</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" (click)="createUser()">Create</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Update -->
  <div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="updateModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="updateModalLabel">Update User</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="updateName">Nome</label>
            <input type="text" class="form-control" id="updateName" [(ngModel)]="updatedUser.Name" [ngModelOptions]="{standalone: true}" placeholder="Enter name" />
          </div>
          <div class="form-group">
            <label for="updateProfile">Perfil</label>
            <select class="form-control" id="updateProfile" [(ngModel)]="updatedUser.Profile" [ngModelOptions]="{standalone: true}">
              <option value="0">Padrão</option>
              <option value="1">Administrador</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" (click)="updateUser()">Update</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Delete -->
  <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="deleteModalLabel">Delete User</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>Você confirma que quer remover este usuário?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" (click)="deleteUser()">Confirmar</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
  
  
</div>
  